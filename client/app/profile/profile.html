<!--***********************Image & Video view Modal********************-->

<div ng-include="'components/modal/modal.html'"></div>
<!--******************************************************************-->


<div ng-controller="ProfileCtrl" id="for_blur">
	<div ng-include="'components/navbar/navbar.html'"></div>

            <div id="profile">
            <!--user pic and info goes here-->
            	<div id="pro_pic">
            		<div id="pro_pic_wrapper" >
           				<img src="{{GalleryPic}}" style="width:100%;height:100%;"></img>
           				<div id="gal_pic_edit" data-toggle="modal" data-target="#gal_pic_modal" onclick="document.getElementById('for_blur').style.filter = 'blur(5px)'" ng-show="user.name==loggedInUser.name"><a href=""><u>Edit Pic</u></a></div>

           				<script>
					  	$(document).ready(function(){
					   		$("#gal_pic_edit").click(function(){
								var windowHeight= $(window).height();
								var modalHeight= $(".modal_center").innerHeight;
								var margin= (windowHeight*25)/100;
									
								$(".glassy").css("border", "5 solid black");
							});
						});
						</script>
           			</div>
	            	<div id="stages_list">
	            		<ul class="nav nav-tabs">
	            			<li class="active"><a data-toggle="tab" href="#home">Home</a></li>  
						  	<li ng-repeat="stageList in stageList" ng-click="stageDiv(stageList.id)"><a data-toggle="tab" href="#{{stageList.id}}">{{stageList.name}}</a></li>
						</ul>
					</div>

		            <div id="user_profile" class="col-md-3 ">
			            <div>
			                <span>
			                	<span ng-click="edit.name=true" ng-hide="edit.name && user.name==loggedInUser.name" id="pro_name">{{user.name}}</span>
			                	<div ng-show="edit.name && user.name==loggedInUser.name">
			                		<form name="form" ng-submit="editProfile(form.name,1)" ng-model="form"> 
			                			<input type="text" value="{{user.name}}" ng-model="form.name" autofocus>
			                			<br>
			                			<button type="submit" class="w2b">Save</button> 
			                			<button type="button" ng-click="edit.name=false" class="w2b">Cancel</button>
			                		</form>
			                	</div>
			                </span>
			            </div>
			        
			        	<div id="infodiv">
			            	<span id="info">Director Editor Screenwriter</br></span>
			            	<span id="info">9th Feb 1996</span>
			            	<span ng-if="user._id!=loggedInUser._id">
				            	<button ng-hide="isFollowing"  ng-click="follow()" class="w2b">Follow</button>
								<button ng-show="isFollowing"  ng-click="unfollow()"  class="w2b">Following</button>
							</span>
			            </div>

		        	</div>
		        	<div id="HOF_div" onclick="document.getElementById('HOF_display').style.display = 'block'">
		        		<ul>
		        			<a href="#about_user" data-toggle="tab"><li>About</li></a>
		        			<a href="#HOF" data-toggle="tab"><li>Hall of Fame</li></a>
		        		</ul>
		        	</div>
		        	<div id="HOF_display" class="tab-content">
		        		<button type="button" class="close" onclick="document.getElementById('HOF_display').style.display = 'none'">&times;</button>

		        		<span id="about_user" class="tab-pane fade">
		        			
		        			<h4>About<hr></hr></h4>
		        			
							<span>
			                	<span ng-click="edit.about=true" ng-hide="edit.about && user.name==loggedInUser.name" ng-disabled="user.name!=loggedInUser.name">{{userAbout}}</span>
			                	<div ng-show="edit.about && user.name==loggedInUser.name">
			                		<form name="form" ng-submit="editProfile(form.about,2)" ng-model="form" data-bind="if: edit.about==true"> 
			                			<textarea class='autoExpand' rows='3' data-min-rows='3' value="{{userAbout}}" placeholder='About' id="textarea" style="width:100%" value="{{userAbout}}" ng-model="form.about" data-bind="hasfocus: true">
			                			</textarea>
			                			<script >
			                				$(document)
										    .one('focus.textarea', '.autoExpand', function(){
										        var savedValue = this.value;
										        this.value = '';
										        this.baseScrollHeight = this.scrollHeight;
										        this.value = savedValue;
										    })
										    .on('input.textarea', '.autoExpand', function(){
										        var minRows = this.getAttribute('data-min-rows')|0,
										            rows;
										        this.rows = minRows;
										        rows = Math.ceil((this.scrollHeight - this.baseScrollHeight) / 32);
										        this.rows = minRows + rows;
										    });
			                			</script>
			                			
			                			<br>
			                			<button type="submit" class="w2b">Save</button> 
			                			<button type="button" ng-click="edit.about=false" class="w2b">Cancel</button>
			                		</form>
			                	</div>
			                </span>
										        		</span>
		        		<span id="HOF" class="tab-pane fade">
		        			<h4>Hall of Fame<hr></hr></h4>
		        			Actor
		        		</span>
		        	</div>
		        	<div onclick="document.getElementById('for_blur').style.filter = 'blur(5px)'">
		        		<button ng-show="user.name==loggedInUser.name" type="button" class="btn btn-info btn-lg" data-toggle="modal" data-target="#upload" id="upload_btn"><span class="glyphicon glyphicon-open"></span> Upload</button>
		        	</div>
		        	
	        	</div>
	        

	                                               
				<!--users content, videos etc-->
				 <div id="user_hist_div1">
				 	<div id="empty">
				 	</div>
				 	<div id="art_wrap" class="thumbs_wrap">
			            <div id="user_hist_div2" class="thumbs_wrap">
				
							<div class="thumbs_wrap">
								<span  class="thumbs_wrap">
									
									<span id="user_art" class="thumbs_wrap">
										
										
										

										<div class="tab-content">
											<div id="home" class="tab-pane fade in active">
												<content-item ng-repeat="item in posts | orderBy:'-createdOn'" content="item">
													
												</content-item>
											</div>

											  <div  class="tab-pane fade" ng-repeat="stageDiv in stageList" id="{{stageDiv.id}}">
											    <content-item ng-repeat="item in stageDivPosts | orderBy:'-createdOn' " content="item">
													
												</content-item>
											  </div>

											
										</div>	
											<div>
										    	<input type="text" ng-model="creditDet">
										    	<button ng-click="submitCredit(creditDet)">Submit Credit</button>
										    </div>	
												
													<span id="user_art" >
										
										<div class="thumbs_out">
											<div class="thumbs_in">
												<div id="user_art_info2" class="img-thumbnail">
													    <button class="btn btn-default dropdown-toggle" type="button" id="menu1" data-toggle="dropdown">Book
													    <span class="caret"></span></button>
													    </div>
													    
													</div>
													</div>
													</span>
												
									</span>
								</span>
							</div>
						</div>
					</div>
				</div>
				<!--user content ends here-->
			</div>
</div>






