<!--***********************Image & Video view Modal********************-->

<div ng-include="'components/modal/modal.html'"></div>
<!--******************************************************************-->


<div ng-controller="ProfileCtrl" id="for_blur">
	<div ng-include="'components/navbar/navbar.html'"></div>

            <div id="profile">
            <!--user pic and info goes here-->
            	<div id="pro_pic">
            		<div id="pro_pic_wrapper" >
           				<img src="{{GalleryPic}}" style="width:100%;height:100%;"></img>
           				<div id="gal_pic_edit" data-toggle="modal" data-target="#gal_pic_modal" onclick="document.getElementById('for_blur').style.filter = 'blur(5px)'" ng-show="user.name==loggedInUser.name"><a href=""><u>Edit Pic</u></a></div>

           				<script>
					  	$(document).ready(function(){
					   		$("#gal_pic_edit").click(function(){
								var windowHeight= $(window).height();
								var modalHeight= $(".modal_center").innerHeight;
								var margin= (windowHeight*25)/100;
									
								$(".glassy").css("border", "5 solid black");
							});
						});
						</script>
           			</div>
	            	<div id="stages_list">
	            		<ul class="nav nav-tabs">
	            			<li class="active"><a data-toggle="tab" href="#home">Home</a></li>  
						  	<li ng-repeat="stageList in stageList" ng-click="stageDiv(stageList.id)"><a data-toggle="tab" href="#{{stageList.id}}">{{stageList.name}}</a></li>
						</ul>
					</div>

		            <div id="user_profile" class="col-md-3 ">
		            	<div class="thumbs_wrap">
		            		<img src="{{ProfilePic}}" width="auto" height="106px" id="dp">

		            		<div id="dp_edit" data-toggle="modal" data-target="#dp_modal" onclick="document.getElementById('for_blur').style.filter = 'blur(5px)'" ng-show="user.name==loggedInUser.name">
		            			<a href=""><u>
		            				<img src="http://icons.iconarchive.com/icons/oxygen-icons.org/oxygen/256/Actions-document-edit-icon.png" width="20px" height="20px">
		            			</u></a>
		            		</div>
		            	</div>
		            	<div class="thumbs_wrap" id="user_profile_wrapper">
				            <div>
				                <span>
				                	<span ng-click="edit.name=true" ng-hide="edit.name && user.name==loggedInUser.name" id="pro_name">{{user.name}}</span>
				                	<div ng-show="edit.name && user.name==loggedInUser.name">
				                		<form name="form" ng-submit="editProfile(form.name,1)" ng-model="form"> 
				                			<input type="text" value="{{user.name}}" ng-model="form.name" autofocus>
				                			<br>
				                			<button type="submit" class="w2b">Save</button> 
				                			<button type="button" ng-click="edit.name=false" class="w2b">Cancel</button>
				                		</form>
				                	</div>
				                </span>
				            </div>
				        
				        	<div id="infodiv">

				            	<!--<span id="info">Director Editor Screenwriter</br></span>-->
				            	<button  type="button" class="btn btn-info btn-lg w2b" data-toggle="modal" data-target="#upload" style="font-size:12px"><img src="http://www.yoga-singles.com/wp-content/uploads/2014/08/Namaste_Hands.png" width="20px" height="auto"></span>Respect</button>
				            	<span ng-if="user._id!=loggedInUser._id">
					            	<button ng-hide="isFollowing"  ng-click="follow()" class="w2b">Follow</button>
									<button ng-show="isFollowing"  ng-click="unfollow()"  class="w2b">Following</button>
								</span>
				            </div>
				        </div>

		        	</div>
		        	<div id="HOF_div" onclick="document.getElementById('HOF_display').style.display = 'block'">
		        		<ul>
		        			<a href="#about_user" data-toggle="tab"><li>About</li></a>
		        			<a href="#HOF" data-toggle="tab"><li>Hall of Fame</li></a>
		        			<a href="#upload_form0" data-toggle="tab"><li>Upload</li></a>
		        		</ul>
		        	</div>
		        	<div id="HOF_display" class="tab-content">
		        		<button type="button" class="close" onclick="document.getElementById('HOF_display').style.display = 'none'">&times;</button>

		        		<span id="about_user" class="tab-pane fade">
		        			
		        			<h4>About<hr></hr></h4>
		        			
							<span>
			                	<span ng-click="edit.about=true" ng-hide="edit.about && user.name==loggedInUser.name" ng-disabled="user.name!=loggedInUser.name">{{userAbout}}</span>
			                	<div ng-show="edit.about && user.name==loggedInUser.name">
			                		<form name="form" ng-submit="editProfile(form.about,2)" ng-model="form" data-bind="if: edit.about==true"> 
			                			<textarea class='autoExpand' rows='3' data-min-rows='3' value="{{userAbout}}" placeholder='About' id="textarea" style="width:100%" value="{{userAbout}}" ng-model="form.about" data-bind="hasfocus: true">
			                			</textarea>
			                			
			                			
			                			<br>
			                			<button type="submit" class="w2b">Save</button> 
			                			<button type="button" ng-click="edit.about=false" class="w2b">Cancel</button>
			                		</form>
			                	</div>
			                </span>
						</span>
		        		<span id="HOF" class="tab-pane fade">
		        			<h4>Hall of Fame<hr></hr></h4>
		        			Actor
		        		</span>
		
		        		<div id="upload_form0" class="tab-pane fade">
		        			<div class="tab-content">
		        			<div class="tab-pane fade in active" id="upload_form2">
		        			<div id="upload_wrapper_left">
		        				<div class="form-group">
									<input type="text" class="form-control upld_form" ng-model="form.articleName" placeholder="Article Name">
								</div>
								<div class="form-group">
									<textarea class='autoExpand form-control' rows='3' data-min-rows='3' placeholder='Description' id="textarea" style="width:100%" ng-model="form.description" data-bind="hasfocus: true">
						    		</textarea>													
															
								</div>
								<div>
									<tags-input ng-model="form.genres" add-on-paste="true" display-property="name" placeholder="Genre/Category" add-from-autocomplete-only="true"  class="bootstrap" replace-spaces-with-dashes="false">
								        <auto-complete source="loadTags($query)" max-results-to-show="10"></auto-complete>
								    </tags-input>
								</div>												
								<div>
									<tags-input ng-model="form.vedik" add-on-paste="true" display-property="name" placeholder="Add the Vedik" add-from-autocomplete-only="true"  class="bootstrap" replace-spaces-with-dashes="false">
								        <auto-complete source="loadTags($query)" max-results-to-show="10"></auto-complete>
								    </tags-input>
								</div>
								<a href="#credits2" data-toggle="tab" class="b2w">Next</a>
		        			</div>
		        			<ul class="nav nav-tabs" style="width:40%;position:absolute;bottom:5px;right:0px">
					        		<li  class="active"><a href="#article_up" data-toggle="tab" style="padding:0px"><span class="glyphicon glyphicon-open" style="padding:6px 5px"></span> Article</a></li>	        			
					        		<li ><a href="#image_up" data-toggle="tab" style="padding:0px"><span class="glyphicon glyphicon-open" style="padding:6px 5px"></span> Image</a></li>
					        		<li><a href="#video_up" data-toggle="tab" style="padding:0px"><span class="glyphicon glyphicon-open" style="padding:6px 5px" ></span> Video</a></li>
					        	</ul>
		        			<div id="upload_wrapper_right">
		        				
		        				<div class="tab-content">
		        					<div id="article_up" class="tab-pane fade in active">
		        						<div class="form-group">
											<textarea class='autoExpand form-control' rows='3' data-min-rows='3' placeholder='Description' id="textarea" style="width:100%" ng-model="form.content" data-bind="hasfocus: true">
								    		</textarea>						
										</div>
									</div>
									<div id="image_up" class="tab-pane fade">
		        						<div class="form-group">	
											<input type="text" class="form-control upld_form" ng-model="form.picUrl" placeholder="Image Url">
										</div>
										<img src="{{form.picUrl}}" width="100%" height="auto">
									</div>
									<div id="video_up" class="tab-pane fade">
		        						<div class="form-group">
																	
											<input type="text" class="form-control upld_form" ng-model="form.vidUrl" placeholder="Youtube link to video">
										</div>
										<div class="form-group">							
											<input type="text" class="form-control upld_form" ng-model="form.posterUrl" placeholder="Poster Url">
										</div>
										<img src="{{form.picUrl}}" width="100%" height="auto">
									</div>
								</div>
								
									
				        		
		        			</div>
		        			</div>
		        			<div id="credits2" class="tab-pane fade" style="background:white">
										    
								<table>
								   	<tr>
								   		<th>Credit</th>
								   		<th>User</th>
								  	</tr>											    				
								   	<tr ng-repeat="credit in creditType track by $index">
								   		<td style="width:50%;verticle-align:top">
			 					   			<div  layout="column" ng-cloak>

											  <md-content class="md-padding">
											    <form ng-submit="$event.preventDefault()" name="searchForm">
											     
											      <div layout-gt-sm="row">
											        
											        <md-autocomplete flex required
											            md-input-name="autocompleteField"
											            md-input-minlength="2"
											            md-input-maxlength="18"
											            md-no-cache="false"
											            md-selected-item="creditType[$index]"
											            md-search-text="searchText"
											            md-items="item in querySearch(searchText,$index)"
											            md-item-text="item.creditDetail"
											            md-floating-label="Credit"
											           
											           	md-menu-class="autoCompleteDropDown"
											           >
											          <md-item-template>
											            <span md-highlight-text="searchText">{{item.creditDetail}}</span>
											          </md-item-template>
											          <!--<div ng-messages="searchForm.autocompleteField.$error" ng-if="searchForm.autocompleteField.$touched">
											            <div ng-message="required">You <b>must</b> have a favorite state.</div>
											            <div ng-message="minlength">Your entry is not long enough.</div>
											            <div ng-message="maxlength">Your entry is too long.</div>
											          </div>-->

											        </md-autocomplete>
											      </div>
											       </form>

											  </md-content>
											</div>
															    			
										</td>
										<td style="width:50%;vertical-align: bottom;">
											<tags-input ng-model="creditUser[$index]" display-property="name" add-from-autocomplete-only="true"  class="bootstrap" >
												<auto-complete source="getSuggestionsForNames($query)" min-length='1'>
					      						</auto-complete>
					    					</tags-input>
										</td>
									</tr>
									<tr>
										<td style="padding:10px 0px">
											<button type="button" class="b2w" ng-click="addCredit()">Add Credit</button>
										</td>
										<td style="padding:10px 0px"><a data-toggle="tab" href="#upload_form2" class="b2w">Back</a><span ng-click="test()">sdafd</span>
										</td>
									</tr>      							    			
								</table>	
								<div>
											      			
									<button type="submit" class="b2w">Submit</button>
					      		</div>

											      		
					    	</div>
					    	</div>
		        		</div>

							<!--<div class="tab-pane fade in active" id="upload_form2">
				        		<div class="tab-content">
					        		<span id="articlee_up" class="tab-pane fade">
					        			<h3>Add your Article here</h3>					
											
											<a href="#credits2" data-toggle="tab" class="b2w">Next</a>
					        		</span>
					        		<span id="imagee_up" class="tab-pane fade">
					        			<h3>Add your Image here</h3>
														
										<div class="form-group">
											<input type="text" class="form-control upld_form" ng-model="form.imgName" placeholder="Image Name">
										</div>
										<div class="form-group">
											<input type="text" class="form-control upld_form" ng-model="form.description" placeholder="Description">
										</div>
										<div class="form-group">	
											<input type="text" class="form-control upld_form" ng-model="form.picUrl" placeholder="Image Url">
										</div>
										<div class="form-group">	
											<input type="text" class="form-control upld_form" ng-model="form.tags" placeholder="Tag a category" >
										</div>
										<div class="form-group">
											<tags-input ng-model="form.vedik" add-on-paste="true" display-property="name" placeholder="Add the Vedik" add-from-autocomplete-only="true"  class="bootstrap" replace-spaces-with-dashes="false">
										        <auto-complete source="loadTags($query)" max-results-to-show="10"></auto-complete>
										    </tags-input>
										</div>
										<a href="#credits2" data-toggle="tab" class="b2w">Next</a>
					        		</span>
					        		<span id="videoe_up" class="tab-pane fade">
											<h3>Add your Video here</h3>
																
												<div class="form-group">
																
													<input type="text" class="form-control upld_form" ng-model="form.vidName" placeholder="Name of Video">
												</div>
												<div class="form-group">
																	
													<input type="text" class="form-control upld_form" ng-model="form.vidUrl" placeholder="Youtube link to video">
												</div>
												<div class="form-group">
																		
													<input type="text" class="form-control upld_form" ng-model="form.posterUrl" placeholder="Poster Url">
												</div>
												<div class="form-group"> <!-- Put text area --
													<textarea class='autoExpand form-control' rows='3' data-min-rows='3' placeholder='Description' id="textarea" style="width:100%" ng-model="form.description" data-bind="hasfocus: true">
						                			</textarea>													
																
												</div>
												<div>
													<tags-input ng-model="form.genres" add-on-paste="true" display-property="name" placeholder="Genre/Category" add-from-autocomplete-only="true"  class="bootstrap" replace-spaces-with-dashes="false">
												        <auto-complete source="loadTags($query)" max-results-to-show="10"></auto-complete>

												    </tags-input>
												</div>
															
												<div>
													<tags-input ng-model="form.vedik" add-on-paste="true" display-property="name" placeholder="Add the Vedik" add-from-autocomplete-only="true"  class="bootstrap" replace-spaces-with-dashes="false">
												        <auto-complete source="loadTags($query)" max-results-to-show="10"></auto-complete>
												    </tags-input>
												</div>
												<a href="#credits2" data-toggle="tab" class="b2w">Next</a>
					        		</span>
					        	</div>
				        	</div>-->
				        	
			        	</div>
		        	</div>
		        	<!--<div id="upload_btn" onclick="document.getElementById('HOF_display').style.display = 'block'">
		        		<ul>
		        			<a href="#article_up" data-toggle="tab"><li><span class="glyphicon glyphicon-open"></span> Article</li></a>		        			
		        			<a href="#image_up" data-toggle="tab"><li><span class="glyphicon glyphicon-open"></span> Image</li></a>
		        			<a href="#video_up" data-toggle="tab"><li><span class="glyphicon glyphicon-open"></span> Video</li></a>
		        		</ul>
		        	</div>-->

		        	
		        	
		        	
	        	</div>
	        

	                                               
				<!--users content, videos etc-->
				 <div id="user_hist_div1">
				 	<div id="empty">
				 	</div>
				 	<div id="art_wrap" class="thumbs_wrap">
			            <div id="user_hist_div2" class="thumbs_wrap">
				
							<div class="thumbs_wrap">
								<span  class="thumbs_wrap">
									
									<span id="user_art" class="thumbs_wrap">
										
										
										

										<div class="tab-content">
											<div id="home" class="tab-pane fade in active">
												<content-item ng-repeat="item in posts | orderBy:'-createdOn'" content="item">
													
												</content-item>
											</div>

											  <div  class="tab-pane fade" ng-repeat="stageDiv in stageList" id="{{stageDiv.id}}">
											    <content-item ng-repeat="item in stageDivPosts | orderBy:'-createdOn' " content="item">
													
												</content-item>
											  </div>

											
										</div>	
											
												
													<span id="user_art" >
										
										<div class="thumbs_out">
											<div class="thumbs_in">
												<div id="user_art_info2" class="img-thumbnail">
													    <button class="btn btn-default dropdown-toggle" type="button" id="menu1" data-toggle="dropdown">Book
													    <span class="caret"></span></button>
													    </div>
													    
													</div>
													</div>
													</span>
												
									</span>
								</span>
							</div>
						</div>
					</div>
				</div>
				<!--user content ends here-->
			</div>
</div>






